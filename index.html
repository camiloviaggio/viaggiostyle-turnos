<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ViaggioStyle | Turnos</title>

<style>
@font-face {
  font-family: 'Owned';
  src: url('owned.ttf');
}

* { box-sizing: border-box; }

body {
  margin: 0;
  background: radial-gradient(circle at top, #1b1b1b, #000);
  font-family: Arial, sans-serif;
  color: #fff;
}

header {
  padding: 25px;
  text-align: center;
}

header div {
  font-family: 'Owned','Impact','Arial Black',sans-serif;
  font-size: 32px;
  letter-spacing: 4px;
}

.container {
  max-width: 420px;
  margin: 30px auto;
  background: linear-gradient(180deg,#1f1f1f,#151515);
  padding: 25px;
  border-radius: 16px;
  box-shadow: 0 20px 40px rgba(0,0,0,.6);
  animation: fadeUp .5s ease;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

h2 {
  text-align: center;
  margin-bottom: 20px;
}

label {
  display: block;
  margin-top: 18px;
  font-size: 14px;
  color: #ddd;
}

input, select {
  width: 100%;
  padding: 14px;
  margin-top: 6px;
  border-radius: 10px;
  border: none;
  font-size: 16px;
}

#horarios {
  margin-top: 10px;
  display: grid;
  grid-template-columns: repeat(auto-fill,minmax(90px,1fr));
  gap: 10px;
}

.hora-btn {
  padding: 12px;
  border-radius: 10px;
  background: #2a2a2a;
  border: none;
  color: #fff;
  cursor: pointer;
  transition: .2s;
}

.hora-btn:hover { background: #333; }

.hora-btn.active {
  background: #25d366;
  color: #000;
  transform: scale(1.05);
}

button {
  width: 100%;
  padding: 16px;
  margin-top: 25px;
  background: #25d366;
  border: none;
  color: #000;
  font-size: 18px;
  border-radius: 14px;
  cursor: pointer;
  font-weight: bold;
}

.cancel {
  background: #ff4d4d;
  color: #fff;
}

.small-text {
  text-align: center;
  font-size: 12px;
  color: #aaa;
  margin-top: 8px;
}
</style>
</head>

<body>

<header>
  <div>VIAGGIOSTYLE</div>
</header>

<div class="container">
<h2>Reservar turno</h2>

<label>Nombre completo</label>
<input id="nombre" placeholder="Tu nombre y apellido">

<label>Servicio</label>
<select id="servicio">
  <option value="">Seleccionar</option>
  <option>Corte</option>
  <option>Corte + Barba</option>
</select>

<label>D√≠a</label>
<input type="date" id="fecha" onchange="cargarHorarios()">

<label>Horario</label>
<div style="font-size:13px;color:#bbb;margin-top:4px">
Seleccion√° un horario disponible
</div>
<div id="horarios"></div>

<button onclick="reservarTurno()">Confirmar reserva</button>
<div class="small-text">Se abrir√° WhatsApp para confirmar</div>

<button class="cancel" onclick="cancelarTurno()">Cancelar / Reprogramar</button>
</div>

<script>
const telefonoBarberia = "5491159527947";
let horaSeleccionada = "";

document.getElementById("fecha").setAttribute(
  "min",
  new Date().toISOString().split("T")[0]
);

function cargarHorarios() {
  const cont = document.getElementById("horarios");
  cont.innerHTML = "";
  horaSeleccionada = "";

  const fechaInput = document.getElementById("fecha").value;
  if (!fechaInput) return;

  const fecha = new Date(fechaInput + "T00:00:00");
  const dia = fecha.getDay(); // 0=Dom, 1=Lun, ...

  // üî¥ DOMINGO ‚Äî CERRADO
  if (dia === 0) {
    cont.innerHTML = "<div style='color:#888;font-size:13px'>Domingos cerrado</div>";
    return;
  }

  // üü£ MI√âRCOLES Y VIERNES ‚Äî 10:00 a 16:30
  if (dia === 3 || dia === 5) {
    generarHoras("10:00", "16:30");
    return;
  }

  // üîµ LUNES, MARTES Y JUEVES ‚Äî 9 a 13 / 15:30 a 20
  if (dia === 1 || dia === 2 || dia === 4) {
    generarHoras("09:00", "13:00");
    generarHoras("15:30", "20:00");
    return;
  }

  // üü¢ S√ÅBADO ‚Äî 9:00 a 20:00 completo
  if (dia === 6) {
    generarHoras("09:00", "20:00");
  }
}

function generarHoras(inicio, fin) {
  let [h, m] = inicio.split(":").map(Number);
  let [hf, mf] = fin.split(":").map(Number);

  while (h < hf || (h === hf && m <= mf)) {
    const hora = `${h.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`;

    const btn = document.createElement("button");
    btn.className = "hora-btn";
    btn.textContent = hora;

    btn.onclick = () => seleccionarHora(btn, hora);

    document.getElementById("horarios").appendChild(btn);

    m += 30;
    if (m === 60) {
      m = 0;
      h++;
    }
  }
}

function seleccionarHora(btn, hora) {
  document.querySelectorAll(".hora-btn").forEach(b => b.classList.remove("active"));
  btn.classList.add("active");
  horaSeleccionada = hora;
}

function reservarTurno() {
  const nombre = document.getElementById("nombre").value.trim();
  const servicio = document.getElementById("servicio").value;
  const fechaValor = document.getElementById("fecha").value;

  if (!nombre || !servicio || !fechaValor || !horaSeleccionada) {
    alert("Complet√° todos los campos y seleccion√° un horario");
    return;
  }

  const fecha = new Date(fechaValor + "T00:00:00");
  const dia = fecha.getDate();
  const mes = fecha.toLocaleString("es-ES", { month: "long" });

  const mensaje =
`Hola! Soy ${nombre}.
Quiero reservar un turno en ViaggioStyle.

Servicio: ${servicio}
D√≠a: ${dia} de ${mes}
Hora: ${horaSeleccionada}`;

  const url = `https://wa.me/${telefonoBarberia}?text=${encodeURIComponent(mensaje)}`;
  window.open(url, "_blank");
}

function cancelarTurno() {
  window.open(`https://wa.me/${telefonoBarberia}?text=${encodeURIComponent("Hola! Quiero cancelar o reprogramar mi turno.")}`, "_blank");
}
</script>

</body>
</html>
